(this["webpackJsonpshop-price"]=this["webpackJsonpshop-price"]||[]).push([[0],{116:function(e,t,a){e.exports=a(282)},121:function(e,t,a){},199:function(e,t,a){},279:function(e,t,a){},281:function(e){e.exports=JSON.parse('{"city":[{"label":"\u897f\u5b89","value":1},{"label":"\u90d1\u5dde","value":1},{"label":"\u6210\u90fd","value":1.1}],"type":[{"label":"\u7efc\u5408\u81ea\u52a9\u9910","value":1.5},{"label":"\u590d\u6742\u53cc\u53a8\u623f\u7092\u83dc","value":1.2},{"label":"\u7f8e\u98df\u5e7f\u573a\uff08\u542b\u6863\u53e3\uff09","value":1.2},{"label":"\u70e4\u8089\u7efc\u5408","value":1.1},{"label":"\u7efc\u5408\u897f\u9910\u5385","value":1.1},{"label":"\u7092\u83dc","value":1},{"label":"\u725b\u6392\u81ea\u52a9","value":1},{"label":"\u706b\u9505\u7efc\u5408","value":0.9},{"label":"\u9762\u70b9\u5c0f\u5403\u7c7b\u7efc\u5408","value":0.9},{"label":"\u5355\u54c1\u4e2d\u9910","value":0.9},{"label":"\u7efc\u5408\u6027\u5bb4\u4f1a\u9910\u996e","value":0.9},{"label":"\u70e4\u8089\u5355\u54c1","value":0.8},{"label":"\u9762\u70b9\u5c0f\u5403\u7c7b\u5355\u54c1","value":0.8},{"label":"\u897f\u5f0f\u5feb\u9910","value":0.8},{"label":"\u7f8e\u98df\u5e7f\u573a\uff08\u4e0d\u542b\u6863\u53e3\uff09","value":0.8},{"label":"\u519c\u5bb6\u4e50","value":0.8},{"label":"\u706b\u9505\u5355\u54c1","value":0.7},{"label":"\u56e2\u9910\uff08\u5355\u4f4d\u5b66\u6821\u9910\u5385\uff09","value":0.7},{"label":"\u8336\u697c\u5496\u5561\u7b80\u9910","value":0.7},{"label":"\u7eaf\u5bb4\u4f1a\u5385","value":0.6}]}')},282:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(10),i=a.n(r),s=(a(121),a(122),a(109)),o=a.n(s),c=(a(91),a(44)),u=a.n(c),m=(a(92),a(45)),d=a.n(m),h=(a(95),a(46)),v=a.n(h),b=(a(168),a(78)),f=a.n(b),p=(a(101),a(31)),g=a.n(p),y=(a(185),a(21)),E=a.n(y),k=(a(103),a(48)),S=a.n(k),j=(a(197),a(54)),N=a.n(j),O=a(50),x=a(51),C=a(53),w=a(52),z=(a(199),a(115));var D="http://zwbgzh.zhaodaka.vip";function _(e,t){return fetch(D+e+"?"+function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null==e)return"";var a=[];for(var n in e)a.push(n+"="+(t?encodeURIComponent(e[n]):e[n]));return a.join("&")}(t)).then((function(e){return e.json()}))}function R(e,t){return fetch(D+e,{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()}))}a(279);var q=function(e){Object(C.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={see:!1},e.clickCounter=0,e.timer=void 0,e}return Object(x.a)(a,[{key:"handleIconClick",value:function(){var e=this;this.props.isSaler&&(this.clickCounter++,this.clickCounter>=3?S.a.alert("\u6210\u4ea4\u5e95\u4ef7",this.props.floor+"\u5143/\u6708"):this.timer=setTimeout((function(){clearTimeout(e.timer),e.clickCounter=0}),500))}},{key:"handleSeeClick",value:function(){this.setState({see:!this.state.see})}},{key:"render",value:function(){var e=this.props,t=e.cost,a=e.offer,n=e.onClose,r=e.isSaler,i=this.state.see;return l.a.createElement("div",{className:"resultPage"},l.a.createElement("div",{className:"result iconfont icon-dui",onClick:this.handleIconClick.bind(this)}),l.a.createElement("div",{className:"item"},"\u60a8\u597d\uff0c\u6839\u636e\u60a8\u7684\u7ecf\u8425\u60c5\u51b5\uff0c\u62a5\u4ef7\u5982\u4e0b"),l.a.createElement("div",{className:"item"},l.a.createElement(F,{price:a})),r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"item",onClick:this.handleSeeClick.bind(this)},"\u6218\u7565\u5ba2\u6237\u4f18\u60e0\u4ef7",l.a.createElement("i",{className:"see iconfont ".concat(i?"icon-ziyuan":"icon-ziyuan1")})),l.a.createElement("div",{className:"item"},i&&l.a.createElement(F,{price:t}))),l.a.createElement(v.a,{size:"lg"}),l.a.createElement(u.a,null,l.a.createElement(d.a,{type:"primary",onClick:function(e){return n(e)}},"\u91cd\u65b0\u8be2\u4ef7")))}}]),a}(l.a.Component);function F(e){return l.a.createElement("span",{className:"price-label"},l.a.createElement("span",{className:"price"},e.price),"\u5143/\u6708")}a(79),a(114);var I=a(281),T=function(e){Object(C.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loading:!0,codeDisabled:!1,codeBtnText:"\u83b7\u53d6\u9a8c\u8bc1\u7801",hasSendMsg:!1,priecs:{},showResult:!1,isSaler:!1,validPhone:!1},e.typeData=I.type.map((function(e){return{label:e.label,value:e}})),e.cityData=I.city.map((function(e){return{label:e.label,value:e}})),e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this;_("/userinfo").then((function(t){e.setState({loading:!1,validPhone:!0,isSaler:"sale"===t.type})}))}},{key:"submit",value:function(){var e=this;this.props.form.validateFields().then((function(t){console.log("form valid success",JSON.stringify(t));var a=function(e,t,a,n,l){var r=0,i=0,s=0,o=0,c=1,u=1;return!(e<50)&&(e<100&&(r=(e/50*200+100)*(t/3*.15+.85)*(a/e/1500*.1+.9),c=1.18,u=1.25),e<200&&(r=(e/150*300+270)*(t/3*.15+.85)*(a/e/1300*.15+.85),c=1.15,u=1.2),e<400&&(r=(e/300*530+280)*(t/3*.15+.85)*(a/e/1200*.15+.85),c=1.15,u=1.2),e<800&&(r=(e/600*900+350)*(t/3*.15+.85)*(a/e/1e3*.05+.95),c=1.15,u=1.2),e<1400&&(r=(e/1100*1400+500)*(t/3*.15+.85)*(a/e/900*.15+.85),c=1.12,u=1.2),e<2300&&(r=(e/1900*2200+600)*(t/3*.15+.85)*(a/e/700*.15+.85),c=1.12,u=1.2),e<=3500&&(r=(e/2800*3e3+800)*(t/4*.15+.85)*(a/e/700*.15+.85),c=1.12,u=1.2),o=(s=(i=r*n*l)*c)*u,{floor:i.toFixed(0),cost:s.toFixed(0),offer:o.toFixed(0)})}(t.area,t.year_limit,t.mouth_sales_volume,t.category[0].value,t.city[0].value);e.setState({priecs:a}),t.min_reserve_price=a.floor,t.reserve_price=a.offer,R("/baojia",t).then((function(t){e.showResult()}),(function(e){console.log(e)}))}),(function(t){var a=t.errors;for(var n in a){N.a.fail(e.props.form.getFieldError(n)[0],1,null,!1);break}}))}},{key:"getCode",value:function(){var e=this;if(this.state.codeDisabled)return!1;var t=this.props.form.getFieldValue("mobile");t?(this.setState({codeDisabled:!0}),R("/smscode",{mobile:t}).then((function(){e.setState({hasSendMsg:!0});var t=60,a=setInterval((function(){if(0===t)return e.setState({codeBtnText:"\u91cd\u53d1\u9a8c\u8bc1",codeDisabled:!1}),void clearInterval(a);e.setState({codeBtnText:"".concat(t,"\u79d2\u540e\u91cd\u65b0\u83b7\u53d6")}),t--}),1e3);N.a.success("\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001",1)}),(function(t){console.log(t),S.a.alert("",t.error),e.setState({codeDisabled:!1})}))):N.a.fail("\u8bf7\u8f93\u5165\u624b\u673a\u53f7",2,null,!1)}},{key:"showResult",value:function(){this.setState({showResult:!0})}},{key:"closeResult",value:function(){this.setState({showResult:!1})}},{key:"numberNormalize",value:function(e){var t,a=Number(e);return""===e||("number"!==typeof(t=a)||isNaN(t))?e:a}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps,a=this.state,n=a.showResult,r=a.priecs,i=a.isSaler,s=a.validPhone,c=a.loading;return l.a.createElement("form",{className:"mainPage"},l.a.createElement(g.a,{renderHeader:function(){return"\u5e97\u94fa\u4fe1\u606f"}},l.a.createElement(E.a,Object.assign({type:"number",editable:!0,placeholder:"\u8bf7\u8f93\u5165\u9762\u79ef"},t("area",{validateTrigger:"onBlur",normalize:function(t){return e.numberNormalize(t)},rules:[{required:!0,type:"number",min:50,max:3500,message:"\u9762\u79ef\u4e3a50\u52303500\u4e4b\u95f4\u7684\u6574\u6570"}]}),{extra:"\u5e73\u65b9\u7c73"}),"\u9762\u79ef"),l.a.createElement(E.a,Object.assign({type:"number",editable:!0,placeholder:"\u8bf7\u8f93\u5165\u5e74\u9650"},t("year_limit",{normalize:function(t){return e.numberNormalize(t)},rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5e74\u9650"}]}),{extra:"\u5e74"}),"\u5e74\u9650"),l.a.createElement(E.a,Object.assign({type:"number",editable:!0,placeholder:"\u8bf7\u8f93\u5165\u6708\u9500\u552e\u989d"},t("mouth_sales_volume",{normalize:function(t){return e.numberNormalize(t)},rules:[{required:!0,message:"\u8bf7\u586b\u5199\u6708\u9500\u552e\u989d"}]}),{extra:"\u4e07"}),"\u6708\u9500\u552e\u989d"),l.a.createElement(f.a,Object.assign({},t("category",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u54c1\u7c7b"}]}),{data:this.typeData,cols:1,title:"\u9009\u62e9\u54c1\u7c7b",extra:"\u8bf7\u9009\u62e9"}),l.a.createElement(g.a.Item,{arrow:"horizontal"},"\u9009\u62e9\u54c1\u7c7b")),l.a.createElement(f.a,Object.assign({},t("city",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u57ce\u5e02"}]}),{data:this.cityData,cols:1,title:"\u9009\u62e9\u57ce\u5e02",extra:"\u8bf7\u9009\u62e9"}),l.a.createElement(g.a.Item,{arrow:"horizontal"},"\u6240\u5728\u57ce\u5e02"))),s&&l.a.createElement(g.a,{renderHeader:function(){return"\u7528\u6237\u4fe1\u606f"}},l.a.createElement(E.a,Object.assign({maxLength:4,editable:!0,placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u4eba"},t("name",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u8054\u7cfb\u4eba"}]})),"\u8054\u7cfb\u4eba"),l.a.createElement(E.a,Object.assign({type:"number",maxLength:11,editable:!0,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},t("mobile",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u624b\u673a\u53f7"}]})),"\u624b\u673a\u53f7"),l.a.createElement(E.a,Object.assign({type:"number",editable:!0,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"},t("code",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801"}]}),{extra:l.a.createElement("span",{className:"btn_code ".concat(this.state.codeDisabled&&"disabled"),onClick:this.getCode.bind(this)},this.state.codeBtnText)}),"\u9a8c\u8bc1\u7801")),l.a.createElement(v.a,{size:"xl"}),l.a.createElement(u.a,null,l.a.createElement(d.a,{type:"primary",onClick:this.submit.bind(this)},"\u67e5\u8be2")),n&&l.a.createElement(q,Object.assign({},r,{isSaler:i,onClose:this.closeResult.bind(this)})),l.a.createElement(o.a,{toast:!0,text:"\u6b63\u5728\u52a0\u8f7d...",animating:c}))}}]),a}(l.a.Component),B=Object(z.a)()(T);var P=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.ce9db78e.chunk.js.map